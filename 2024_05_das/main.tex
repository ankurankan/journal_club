\documentclass{beamer}

\usepackage[utf8]{inputenc}
\usecolortheme{beaver}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{mathtools}
\usepackage{todonotes}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{listings}
\usepackage{ragged2e}
\usepackage{titlecaps}
\usepackage{fancyvrb}

\def\ci{\perp\!\!\!\!\!\perp}

\newtheorem{proposition}{Proposition}
\Addlcwords{for a is but and with of in as the etc on to if}

\setbeamertemplate{section in toc}{\inserttocsectionnumber.~\inserttocsection}
\usetheme{Boadilla}
\makeatletter
\setbeamertemplate{footline}{%
    \leavevmode%
    \hbox{%
        \begin{beamercolorbox}[wd=.3\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
            \usebeamerfont{author in head/foot}\insertshortauthor\expandafter\beamer@ifempty\expandafter{\beamer@shortinstitute}{}{~~(\insertshortinstitute)}
        \end{beamercolorbox}%
        \begin{beamercolorbox}[wd=.55\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
            \usebeamerfont{title in head/foot}\insertshorttitle
        \end{beamercolorbox}%
        \begin{beamercolorbox}[wd=.15\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
            \usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{2em}
            \insertframenumber{} / \inserttotalframenumber\hspace*{2ex} 
        \end{beamercolorbox}}%
        \vskip0pt%
    }
\makeatother

\begin{document}

\title[]{Expert-in-the-Loop Structure Learning}
\date{}

\maketitle

\begin{frame}{Background}
	\todo[inline]{Add an example of a DAG here}
	
	\begin{itemize}
		\item Nodes represent random variables.
		\item Directed edges represent causal relationships between them.
	\end{itemize}
\end{frame}

\begin{frame}{Structure Learning: Learning DAGs from data}
	\begin{figure}
		\centering
		\begin{tikzpicture}
			\node[draw, rectangle] (x) at ( 0, 0 ) { Observational Data };
			\node[draw, rectangle] (y) at ( 6, 0 ) { CPDAG };
			\node[draw, rectangle] (z) at ( 10, 0) { DAG };
		
			\draw[->](x) -- (y) node[midway, below, yshift=0.1cm]{ Structure Learning };
			\draw[->](y) -- (z) node[midway, below, yshift=0.1cm]{ Edge orientation };
		\end{tikzpicture}
	\end{figure}
	\todo[inline]{Improve the figure. Show an example right below the steps }

	\begin{itemize}
		\item With structure learning, we want to recover the true data generating DAG.
		\item Many algorithms have been proposed such as constraint-based PC, FCI, etc. score-based Hill-Climb, GES.
		\item Algorithms can only recover CPDAGs.
		\item Further analysis can be done either on CPDAGs or can need to orient the edges based on expert knowledge.
	\end{itemize}
\end{frame}

\begin{frame}{Structure Learning in Practice}
	\begin{itemize}
		\item Adaption of these structure learning algorithms have been very limited.
		\item Researchers still prefer to draw their models by hand based on their domain knowledge.
		\item Potential reasons could be:
			\begin{itemize}
				\item Algorithms can make obvious mistakes sometimes, making it harder to trust.
				\item A lot of different algorithms with different assumptions making it hard to make a choice.
			\end{itemize}
		\item Some of them test their model after drawing.
	\end{itemize}
\end{frame}

\begin{frame}{Model testing}

	\begin{itemize}
		\item Test for missing edges in the model.
		\item If the test fails, it implies that the correlation between the variables is not explained by the model.
	\end{itemize}

	Some researchers do use model testing appraoches to the built model.

	How does model testing work?

	Model testing can be helpful for doing the modifications.
	The usual approach here is that users draw by hand and then test their model. <Find references from citations of the testing paper>
\end{frame}

\begin{frame}{Human-in-the-loop Structure Learning}
	As most of the models are being built by hand, a way to suggest them how to do it.
\end{frame}

\begin{frame}{Human-in-the-loop SL}
	Describe the method for continuous variables.
\end{frame}

\begin{frame}{An effect size for mixed data}
\end{frame}

\begin{frame}{Demo}
\end{frame}

\end{document}
